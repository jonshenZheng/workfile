<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Document</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="renderer" content="webkit|ie-comp|ie-stand"> 
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="css/common.css">
		<link rel="stylesheet" href="css/iframhome.css">
		<link href="source/bootstrap-3.3.0-dist/dist/css/bootstrap.min.css" rel="stylesheet">
	</head>
	<body>
		<div class="frameTop">
			<div class="container clearfix">
				<a href="" class="fl logo">
					<!-- <img src="img/wowphp-elephant.png" class="img-responsive" alt=""> -->
				</a>
				<a href="" class="login">登录</a>
			</div>
		</div>
		<div class="frameContianer">
			<div class="frameHei clearfix">
				<div class="frameNavbar">
					<ul class="qutBox" id="categoryBox">
	                	<!--<li>
		                    <a class="dropdown-toggle"><i class="bordL"></i>控制台<span class="nav_tri"></span></a>
		                    <ul class="submenu">
								<li>
			                    	<a class="dropdown-toggle"><i class="bordL"></i>密码管理</a>
			                    	<ul class="submenu">
										<li><a href="4.html" target="ifr" class="nav_link" >4.html</a></li>
			                    	</ul>
			                    </li>
			                    <li>
			                    	<a class="dropdown-toggle"><i class="bordL"></i>账户管理</a>
			                    	<ul class="submenu">
										<li><a href="6.html" target="ifr" class="nav_link" >6.html</a></li>
				                    	<li><a href="7.html" target="ifr" class="nav_link" >7.html</a></li>
			                    	</ul>
			                    </li>
			                    <li>
			                    	<a class="dropdown-toggle"><i class="bordL"></i>账户管理</a>
				                    <ul class="submenu">
										<li>
					                    	<a class="dropdown-toggle"><i class="bordL"></i>密码管理</a>
					                    	<ul class="submenu">
												<li><a href="5.html" target="ifr" class="nav_link" >5.html</a></li>
					                    	</ul>
				                    	</li>
					                    <li>
					                    	<a class="dropdown-toggle"><i class="bordL"></i>账户管理</a>
					                    	<ul class="submenu">
												<li><a href="6.html" target="ifr" class="nav_link" >6.html</a></li>
						                    	<li><a href="7.html" target="ifr" class="nav_link" >7.html</a></li>
					                    	</ul>
					                    </li>
			                    	</ul>
			                    </li>
		                    </ul>
		                </li>
		                <li>
		                    <a class="dropdown-toggle"><i class="bordL"></i>更多页面<span class="nav_tri"></span></a>
		                    <ul class="submenu">
		                    	<li><a href="1.html" target="ifr" class="nav_link" >1.html</a></li>
		                    	<li><a href="2.html" target="ifr" class="nav_link" >2.html</a></li>
		                    	<li><a href="3.html" target="ifr" class="nav_link" >3.html</a></li>
		                    </ul>
		                </li>
		                <li>
		                    <a class="dropdown-toggle"><i class="bordL"></i>会员中心<span class="nav_tri"></span></a>
		                    <ul class="submenu">
		                    	<li><a href="1.html" target="ifr" class="nav_link" >1.html</a></li>
		                    	<li><a href="2.html" target="ifr" class="nav_link" >2.html</a></li>
		                    	<li><a href="3.html" target="ifr" class="nav_link" >3.html</a></li>
		                    </ul>
		                </li>-->
		            </ul>
				</div>
				<div class="frameRbox">
					 <iframe frameborder="0" src="1.html" name='ifr' width="100%" height="100%"></iframe> 
				</div>
			</div>
		</div>
	</body>
	<script src="js/jquery-1.11.3.js"></script>
	<script src="source/bootstrap-3.3.0-dist/dist/js/bootstrap.min.js"></script>
	<script type="text/javascript">

		//是哪个浏览器或版本
        function whichBroser(version){
	        var Browser = {
	          ie6 : 'MSIE 6.0',
	          ie7 : 'MSIE 7.0',
	          ie8 : 'MSIE 8.0',
	          ie9 : 'MSIE 9.0',
	          ie10 : 'MSIE 10.0',
	          FF : 'Firefox',
	          Chrome : 'Chrome'
	        },
	        BroserVersion = navigator.userAgent,
	        regx;

	        if(!Browser[version]){
	        	return;
	        }

	        regx = new RegExp(Browser[version]);

	        return regx.test(BroserVersion);
        }



        /*var BroserVersion = navigator.userAgent,
            isIE7 = false,
            regx_IE7 = new RegExp(Browser.ie7);

        isIE7 = regx_IE7.test(BroserVersion);*/

		var easyTree = (function(opt){

			var defualt = {
				isShowALL : false,
				speed : 500,
			},
			fn,
			tree; 

			function slideUp(o){
				o.animate({height: 'toggle'}, defualt.speed,function(){
				    $(this).hide();
				});
			}
			
			if(whichBroser('ie7')){
			  	fn = function(el_jq){
			  		if(!el_jq.hasClass('showB')){
			  			if(!defualt.isShowALL) {
			  				el_jq.parent('li').siblings().find('.showB').removeClass('showB').siblings('ul').hide();
			  			}
					  	el_jq.addClass('showB').siblings('ul').show(); 
					}
					else{
						slideUp(el_jq.removeClass('showB').siblings('ul'));
					}
			  	}
			}
			else{
			  	fn = function(el_jq){
			  		if(!el_jq.hasClass('showB')){
			  			if(!defualt.isShowALL){
			  				slideUp(el_jq.parent('li').siblings().find('.showB').removeClass('showB').siblings('ul'));
			  			}
						el_jq.addClass('showB').siblings('ul').slideDown(function(){
							$(this).css('display','block');
						}); 
					}
					else{
						slideUp(el_jq.removeClass('showB').siblings('ul'));
					}
			  	}
			}

			tree = function(opt){
				
				if( Object.prototype.toString.call(opt) === '[object Object]' ){
					defualt = $.extend(true, defualt, opt);
				}

				var tpl = '',
					countInd = -1;
					activeInd = 0,
					activeName = opt.activeName || '';


				function randerFn(arr,depth){
				    var len = arr.length,
				        temp,
				        depth_i = depth,
				        i = 0;

				    for(;i<len;i++){
				    	countInd++;
				        temp = arr[i];
				        tpl += '<li class="count'+countInd+' level'+depth_i+'">';
				            if( temp.children && temp.children.length > 0 ){

				            	if(countInd == activeInd){
				                	tpl += '<a class="dropdown-toggle '+activeName+'  tree-dropdown-toggle-js" data-fid="'+temp.fid+'" data-path="'+temp.path+'" data-depath="'+depth_i+'"><i class="bordL"></i>'+temp.name+'<span class="nav_tri"></span></a>';
				            	}
				            	else{
				            		tpl += '<a class="dropdown-toggle tree-dropdown-toggle-js" data-fid="'+temp.fid+'" data-path="'+temp.path+'" data-depath="'+depth_i+'"><i class="bordL"></i>'+temp.name+'<span class="nav_tri"></span></a>';
				            	}

				              	tpl += '<ul class="submenu">';
				                randerFn(temp.children,depth_i+1);
				                tpl += '</ul>';

				            }
				            else{

				            	if(countInd == activeInd){
				            		tpl += '<a class="nav_link '+activeName+' tree-dropdown-toggle-js" data-fid="'+temp.fid+'" data-path="'+temp.path+'" data-depath="'+depth_i+'" >'+temp.name+'</a>';
				            	}
				            	else{
				            		tpl += '<a class="nav_link tree-dropdown-toggle-js" data-fid="'+temp.fid+'" data-path="'+temp.path+'" data-depath="'+depth_i+'" >'+temp.name+'</a>';
				            	}

				             }

				        tpl += '</li>';

				    }	

				}
				
				//渲染数据
				if(opt.data){

					randerFn(opt.data,0);

					opt.target.html(tpl);

					$('.tree-dropdown-toggle-js').click(function(){
						var that = $(this); 

						if(typeof opt.beforDoFn === 'function'){
							opt.beforDoFn(that);
						}

						$('.tree-dropdown-toggle-js').removeClass('active');
						that.addClass('active');

						fn(that);

						if(typeof opt.doFn === 'function'){
							opt.doFn(that);
						}

					});

				}

				return fn;

			}

		  return tree;

		})();


		var treeData = [{
		"id": "1",
		"name": "桌台类",
		"children": [{
			"id": "101",
			"name": "班台/办公桌",
			"children": []
		}, {
			"id": "102",
			"name": "会议/洽谈桌",
			"children": [
				{'id':'333',name:'aaa',children:[]},
				{'id':'333',name:'bbb',children:[]},
				{'id':'333',name:'ccc',children:[]},
			]
		}, {
			"id": "103",
			"name": "培训桌/条桌",
			"children": []
		}, {
			"id": "104",
			"name": "接待台",
			"children": []
		}, {
			"id": "105",
			"name": "演讲台",
			"children": []
		}, {
			"id": "106",
			"name": "吧台",
			"children": []
		}]
	}, {
		"id": "2",
		"name": "工作位",
		"children": [{
			"id": "201",
			"name": "屏风工作位",
			"children": []
		}, {
			"id": "202",
			"name": "开放式工作位",
			"children": []
		}]
	}, {
		"id": "3",
		"name": "椅类",
		"children": [{
			"id": "301",
			"name": "大班椅",
			"children": []
		}, {
			"id": "302",
			"name": "职员椅",
			"children": []
		}, {
			"id": "303",
			"name": "会客椅",
			"children": []
		}, {
			"id": "304",
			"name": "培训椅",
			"children": []
		}, {
			"id": "305",
			"name": "休闲椅",
			"children": []
		}, {
			"id": "306",
			"name": "会议椅",
			"children": []
		}, {
			"id": "307",
			"name": "剧院椅/礼堂椅",
			"children": []
		}, {
			"id": "309",
			"name": "公共座椅/排椅",
			"children": []
		}, {
			"id": "310",
			"name": "吧椅",
			"children": []
		}, {
			"id": "311",
			"name": "餐椅",
			"children": []
		}]
	}, {
		"id": "4",
		"name": "柜类",
		"children": [{
			"id": "401",
			"name": "背柜",
			"children": []
		}, {
			"id": "402",
			"name": "文件柜",
			"children": []
		}, {
			"id": "403",
			"name": "活动地柜",
			"children": []
		}, {
			"id": "404",
			"name": "更衣柜",
			"children": []
		}, {
			"id": "405",
			"name": "茶水柜",
			"children": []
		}, {
			"id": "406",
			"name": "密集柜",
			"children": []
		}, {
			"id": "407",
			"name": "生活柜",
			"children": []
		}]
	}, {
		"id": "5",
		"name": "沙发类",
		"children": [{
			"id": "501",
			"name": "办公沙发",
			"children": []
		}, {
			"id": "502",
			"name": "休闲沙发",
			"children": []
		}, {
			"id": "503",
			"name": "接待沙发",
			"children": []
		}]
	}, {
		"id": "6",
		"name": "茶几类",
		"children": [{
			"id": "601",
			"name": "办公茶几",
			"children": []
		}, {
			"id": "602",
			"name": "休闲茶几",
			"children": []
		}]
	}, {
		"id": "20",
		"name": "配件",
		"children": [{
			"id": "2001",
			"name": "桌组配件",
			"children": []
		}, {
			"id": "2002",
			"name": "椅组配件",
			"children": []
		}, {
			"id": "2003",
			"name": "柜组配件",
			"children": []
		}, {
			"id": "2004",
			"name": "其它",
			"children": []
		}]
	}, {
		"id": "60",
		"name": "休息室",
		"children": [{
			"id": "6001",
			"name": "床",
			"children": []
		}, {
			"id": "6002",
			"name": "床头柜",
			"children": []
		}, {
			"id": "6003",
			"name": "书桌",
			"children": []
		}, {
			"id": "6004",
			"name": "电视柜",
			"children": []
		}, {
			"id": "6005",
			"name": "衣柜",
			"children": []
		}, {
			"id": "6006",
			"name": "衣帽架",
			"children": []
		}]
	}, {
		"id": "80",
		"name": "灯具",
		"children": [{
			"id": "8001",
			"name": "LED灯带",
			"children": []
		}]
	}];





//服务端的写法

var categorySlider = easyTree({
		isShowALL : true
	});


$('.tree-dropdown-toggle-js').click(function(){
	var that = $(this); 

	if(typeof opt.beforDoFn === 'function'){
		opt.beforDoFn(that);
	}

	fn(that);
	$('.tree-dropdown-toggle-js').removeClass('active');
	that.addClass('active');
	
	if(typeof opt.doFn === 'function'){
		opt.doFn(that);
	}

});



















		//左边列表(必须有一个展开)
		var $category_showBtn  = $('.frameNavbar .qutBox .dropdown-toggle'),
		  categorySlider;

		categorySlider = easyTree({
			isShowALL : true,
			target : $('#categoryBox'),
			data : treeData,
		});

		/*$category_showBtn.click(function(){
			categorySlider($(this));
		});*/


		/*$qtionDt.click(function(){
			_seft = $(this);
			if(!_seft.hasClass('showB')){
			  slideUp(_seft.parent('li').siblings().find('.showB').removeClass('showB').siblings('ul'));
			  _seft.addClass('showB').siblings('ul').slideDown(function(){
                $(this).css('display','block');
              }); 
			}
			else{
				slideUp(_seft.removeClass('showB').siblings('ul'));
			}
		});*/




	</script>
</html>